/* eslint-disable @typescript-eslint/no-use-before-define */
/* eslint-disable no-var */
// Generated by CoffeeScript 1.12.7
(function () {
  var OrganizationLinkGAHelperView,
    PopOver,
    React,
    t,
    track,
    extend = function (child, parent) {
      for (const key in parent) {
        if (hasProp.call(parent, key)) child[key] = parent[key];
      }
      function ctor() {
        this.constructor = child;
      }
      ctor.prototype = parent.prototype;
      child.prototype = new ctor();
      child.__super__ = parent.prototype;
      return child;
    },
    hasProp = {}.hasOwnProperty;

  React = require('react');

  t = require('app/scripts/views/internal/recup-with-helpers')(
    'manage_members',
  );

  track = require('@trello/analytics').track;

  PopOver = require('app/scripts/views/lib/pop-over').PopOver;

  OrganizationLinkGAHelperView = require('app/scripts/views/organization/organization-link-ga-helper-view');

  module.exports = (function (superClass) {
    extend(_Class, superClass);

    _Class.prototype.displayName = 'LinkGoogleApps';

    function _Class(props) {
      _Class.__super__.constructor.call(this, props);
      this.startLinkingGoogleApps = this.startLinkingGoogleApps.bind(this);
      return;
    }

    _Class.prototype.render = t.renderable(function () {
      return t.div(
        {
          class: t.classify({
            'link-google-apps-with-summary': this.props.showBillingSummary,
          }),
          onClick: this.startLinkingGoogleApps,
        },
        function () {
          return t.div('.pop-over-ad.business-class-ad', function () {
            t.img('.icon-google-g.pop-over-ad-icon', {
              src: require('resources/images/services/google-g-logo.svg'),
            });
            return t.div('.ad-copy', function () {
              t.span('.title', function () {
                return t.format('using-google-apps');
              });
              return t.span('.learn-more', function () {
                return t.format('link-google-apps-domain');
              });
            });
          });
        },
      );
    });

    _Class.prototype.startLinkingGoogleApps = function (el) {
      let model, modelCache, ref;
      track(
        'Organization View',
        'Members Page',
        'Start Linking Google Apps Domain',
      );
      (ref = this.props), (model = ref.model), (modelCache = ref.modelCache);
      return PopOver.pushView({
        view: OrganizationLinkGAHelperView,
        options: {
          model: model,
          modelCache: modelCache,
        },
      });
    };

    return _Class;
  })(React.Component);
}.call(this));
