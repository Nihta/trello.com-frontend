import asDataProvider from './as-data-provider';
import { fetchJson } from '../utils/fetch';
import { withCached } from '../utils/with-cached';
/**
 * Some items might be using the type `ExportedDataProvider` instead due to errors with
 * the generated documentation
 */

export var createProvider = function createProvider(name, url) {
  var fetchMethod = withCached(function (param) {
    return fetchJson(url);
  });
  return {
    fetchMethod: fetchMethod,
    ProviderComponent: asDataProvider(name, fetchMethod, fetchMethod.cached)
  };
};
export var createProviderWithCustomFetchData = function createProviderWithCustomFetchData(name, fetchData) {
  var fetchMethod = withCached(function (param) {
    return fetchData();
  });
  return {
    fetchMethod: fetchMethod,
    ProviderComponent: asDataProvider(name, fetchMethod, fetchMethod.cached)
  };
};