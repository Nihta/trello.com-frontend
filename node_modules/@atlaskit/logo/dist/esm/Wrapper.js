import _extends from "@babel/runtime/helpers/extends";
import _objectWithoutProperties from "@babel/runtime/helpers/objectWithoutProperties";
import _taggedTemplateLiteral from "@babel/runtime/helpers/taggedTemplateLiteral";

var _templateObject, _templateObject2;

import React from 'react';
import styled, { css } from 'styled-components';
import { sizes } from './constants';
var Span = styled.span(_templateObject || (_templateObject = _taggedTemplateLiteral(["\n  color: ", ";\n  display: inline-block;\n  fill: ", ";\n  height: ", "px;\n  position: relative;\n  user-select: none;\n\n  > svg {\n    fill: inherit;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n  > canvas {\n    display: block;\n    height: 100%;\n    visibility: hidden;\n  }\n  ", ";\n"])), function (p) {
  return p.iconColor;
}, function (p) {
  return p.textColor;
}, function (p) {
  return p.size && sizes[p.size];
}, function (p) {
  return (
    /* Only apply this if our stop-colors are inherit, if they aren't we don't need to set stop-color via css */
    p.iconGradientStart === 'inherit' && p.iconGradientStop === 'inherit' && css(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral(["\n      /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n      * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n      * rule) and then override it with currentColor for the color changes to be picked up.\n      */\n      stop {\n        stop-color: currentColor;\n      }\n    "])))
  );
});

var Wrapper = function Wrapper(_ref) {
  var label = _ref.label,
      svg = _ref.svg,
      rest = _objectWithoutProperties(_ref, ["label", "svg"]);

  return /*#__PURE__*/React.createElement(Span, _extends({
    "aria-label": label ? label : undefined,
    role: label ? 'img' : 'presentation',
    dangerouslySetInnerHTML: {
      __html: typeof svg === 'function' ? svg(String(rest.iconGradientStart), String(rest.iconGradientStop)) : svg
    }
  }, rest));
};

export default Wrapper;